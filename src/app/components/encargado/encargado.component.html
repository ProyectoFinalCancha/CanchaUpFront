<body>
  <div class="mybotton">
    <br>
    <button (click)="navegar()" class="bn632-hover bn26">Volver a Home</button>
  </div>
  <div class="row">

    <div class="col-md-3">
      <div class="card">
        <div class="card-body p-4">
          <form [formGroup]="encargadoForm" (ngSubmit)="crearEncargado()">

            <h1 class="titulo-bonito">Crear Encargado</h1>
            <br>
            <input type="hidden" formControlName="id">
            <br>
          
            <div class="form-group">
              <br>
              <div class="form-group" style="width: 250px;">
                <input type="text" formControlName="telefono" placeholder="Ingrese el teléfono" class="form-control">
              </div>
              <br>
              <div class="form-group" style="width: 250px;">
                <input type="text" formControlName="apellido" placeholder="Ingrese el apellido" class="form-control">
              </div>
              <br>
              <div class="form-group" style="width: 250px;">
                <input type="text" formControlName="dni" placeholder="Ingrese el dni" class="form-control">
              </div>
              <br>
              <div class="form-group" style="width: 250px;">
                <input type="text" formControlName="nombre" placeholder="Ingrese el nombre" class="form-control">
              </div>
              <br>
              <div class="form-group">
                <button type="submit">Crear Encargado</button>
              </div>
            </div>
          </form>
          
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card">
        <div class="card-body p-4">
          <h1 class="titulo-bonito">Buscar Encargado</h1>
          <br>
          <span class="p-input-icon-left">
            <input type="text" [(ngModel)]="telefonoFiltrado" placeholder="Ingrese Nro de Telefono" />
            &nbsp;<button type="button" class="btn btn-secondary" (click)="buscarEncargadoPorTelefono()">Buscar</button>
          </span>
        </div>
        
        
      </div>
    </div>
    <br>
    <!-- TABLE -->
    <div class="tabla-container">
      <table class="tabla-estilo" #tabla> 
        <thead>
          <th>Nombre</th>
          <th>Apellido</th>
          <th>DNI</th>
          <th>Teléfono</th>
          <th></th>
          <th></th>
        </thead>
        <tbody>
          <ng-container *ngFor="let encargado of encargados">
            <tr [ngClass]="{'resaltado': isTelefonoResaltado(encargado.telefono)}">
              <td>{{ encargado.nombre }}</td>
              <td>{{ encargado.apellido }}</td>
              <td>{{ encargado.dni }}</td>
              <td>{{ encargado.telefono }}</td>
              <td>
                <button type="button" class="btn btn-outline-danger" (click)="eliminarEncargado(encargado)">Eliminar</button>
                &nbsp;&nbsp;<button type="button" class="btn btn-outline-info" (click)="openEditDialog(encargado)">Ver</button>
              </td>
            </tr>
          </ng-container>
        </tbody>
        
      </table>
    </div>
  </div>
  <div class="paginator-container">
    <mat-paginator class="mat-paginator"
                   [length]="totalItems"
                   [pageSizeOptions]="pageSizeOptions"
                   [pageSize]="pageSize"
                   [pageIndex]="pageIndex"
                   (page)="onPageChange($event)"></mat-paginator>
  </div>


